<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>配置管理工具 - Duckov Config Manager</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/variables.css">
    <link rel="stylesheet" href="assets/css/layout.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <link rel="stylesheet" href="assets/css/themes.css">
    <!-- JSZip库用于ZIP导出 -->
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
</head>
<body data-theme="light">
    <!-- 应用容器 -->
    <div class="app-container">
        <!-- 顶部工具栏 -->
        <header class="header">
            <div class="header-left">
                <i class="fa fa-cogs header-icon"></i>
                <h1 class="header-title">配置管理工具</h1>
            </div>
            <div class="header-right">
                <!-- 主题切换 -->
                <button class="btn-icon" id="btn-theme-toggle" title="切换主题">
                    <i class="fa fa-moon-o"></i>
                </button>
                <!-- 投喂猫猫 -->
                <button class="btn btn-pink" id="btn-feed-cat">
                    <i class="fa fa-heart"></i>
                    <span>投喂猫猫</span>
                </button>
                <!-- 新建配置 -->
                <button class="btn btn-primary" id="btn-new-config">
                    <i class="fa fa-plus"></i>
                    <span>新建配置</span>
                </button>
                <!-- 导入配置 -->
                <button class="btn btn-outline" id="btn-import-config">
                    <i class="fa fa-upload"></i>
                    <span>导入</span>
                </button>
                <!-- 剪贴板导入 -->
                <button class="btn btn-outline" id="btn-clipboard-import">
                    <i class="fa fa-paste"></i>
                    <span>剪贴板</span>
                </button>
                <!-- 批量导入 -->
                <button class="btn btn-outline" id="btn-batch-import">
                    <i class="fa fa-files-o"></i>
                    <span>批量导入</span>
                </button>
                <!-- 批量导出 -->
                <button class="btn btn-outline" id="btn-batch-export">
                    <i class="fa fa-download"></i>
                    <span>批量导出</span>
                </button>
                <input type="file" id="file-input" accept=".json" style="display: none;">
                <input type="file" id="batch-file-input" accept=".json" multiple style="display: none;">
            </div>
        </header>

        <!-- 侧边栏 -->
        <aside class="sidebar">
            <!-- 搜索框 -->
            <div class="search-box">
                <i class="fa fa-search search-icon"></i>
                <input type="text" id="search-input" class="search-input" placeholder="搜索配置...">
                <button class="search-clear" id="search-clear" style="display: none;">
                    <i class="fa fa-times"></i>
                </button>
            </div>

            <!-- 筛选标签 -->
            <div class="filter-tabs">
                <button class="filter-tab active" data-type="all">
                    <span>全部</span>
                    <span class="badge" id="count-all">0</span>
                </button>
                <button class="filter-tab" data-type="weapon">
                    <i class="fa fa-crosshairs"></i>
                    <span>枪械</span>
                    <span class="badge" id="count-weapon">0</span>
                </button>
                <button class="filter-tab" data-type="melee">
                    <i class="fa fa-bolt"></i>
                    <span>近战</span>
                    <span class="badge" id="count-melee">0</span>
                </button>
                <button class="filter-tab" data-type="ammo">
                    <i class="fa fa-circle-o"></i>
                    <span>子弹</span>
                    <span class="badge" id="count-ammo">0</span>
                </button>
                <button class="filter-tab" data-type="item">
                    <i class="fa fa-gift"></i>
                    <span>物品</span>
                    <span class="badge" id="count-item">0</span>
                </button>
                <button class="filter-tab" data-type="accessory">
                    <i class="fa fa-cog"></i>
                    <span>配件</span>
                    <span class="badge" id="count-accessory">0</span>
                </button>
            </div>

            <!-- 配置列表 -->
            <div class="config-list" id="config-list">
                <div class="empty-state">
                    <i class="fa fa-folder-open-o empty-icon"></i>
                    <p class="empty-text">暂无配置</p>
                    <p class="empty-hint">点击"新建配置"开始</p>
                </div>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 空状态 -->
            <div class="welcome-state" id="welcome-state">
                <div class="welcome-icon">
                    <i class="fa fa-file-text-o"></i>
                </div>
                <h2 class="welcome-title">欢迎使用配置管理工具</h2>
                <p class="welcome-text">从左侧选择配置开始编辑，或创建新配置</p>
                <div class="welcome-actions">
                    <button class="btn btn-primary btn-lg" id="welcome-new-config">
                        <i class="fa fa-plus-circle"></i>
                        <span>创建新配置</span>
                    </button>
                    <button class="btn btn-outline btn-lg" id="welcome-import-config">
                        <i class="fa fa-upload"></i>
                        <span>导入配置</span>
                    </button>
                </div>
                <div class="welcome-tips">
                    <h3>💡 快捷键提示</h3>
                    <ul>
                        <li><kbd>Ctrl</kbd> + <kbd>S</kbd> 保存配置</li>
                        <li><kbd>Ctrl</kbd> + <kbd>N</kbd> 新建配置</li>
                        <li><kbd>Ctrl</kbd> + <kbd>Z</kbd> 撤销</li>
                        <li><kbd>Ctrl</kbd> + <kbd>Y</kbd> 重做</li>
                        <li><kbd>Ctrl</kbd> + <kbd>F</kbd> 搜索</li>
                    </ul>
                </div>
            </div>

            <!-- 编辑器 -->
            <div class="editor" id="editor" style="display: none;">
                <!-- 编辑器头部 -->
                <div class="editor-header">
                    <div class="editor-title">
                        <h2 id="editor-title-text">编辑配置</h2>
                        <span class="editor-status" id="editor-status">未保存</span>
                    </div>
                    <div class="editor-actions">
                        <button class="btn btn-icon" id="btn-undo" title="撤销 (Ctrl+Z)" disabled>
                            <i class="fa fa-undo"></i>
                        </button>
                        <button class="btn btn-icon" id="btn-redo" title="重做 (Ctrl+Y)" disabled>
                            <i class="fa fa-repeat"></i>
                        </button>
                        <button class="btn btn-success" id="btn-save">
                            <i class="fa fa-save"></i>
                            <span>保存</span>
                        </button>
                        <button class="btn btn-primary" id="btn-export">
                            <i class="fa fa-download"></i>
                            <span>导出</span>
                        </button>
                        <button class="btn btn-outline" id="btn-copy-clipboard">
                            <i class="fa fa-copy"></i>
                            <span>复制</span>
                        </button>
                        <button class="btn btn-outline" id="btn-duplicate">
                            <i class="fa fa-clone"></i>
                            <span>克隆</span>
                        </button>
                        <button class="btn btn-danger" id="btn-delete">
                            <i class="fa fa-trash"></i>
                            <span>删除</span>
                        </button>
                    </div>
                </div>

                <!-- 编辑器内容 -->
                <div class="editor-content" id="editor-content">
                    <!-- 表单内容将由JavaScript动态生成 -->
                </div>
            </div>
        </main>
    </div>

    <!-- 模态框容器 -->
    <div id="modal-container"></div>

    <!-- 通知容器 -->
    <div id="notification-container"></div>

    <!-- 加载脚本 -->
    <script type="module" src="assets/js/app.js"></script>
</body>
</html>
